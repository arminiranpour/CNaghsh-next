# Example environment variables for the @app/web application
# Copy this file to .env and update the values as needed.

# Database connection used by Prisma and the app
DATABASE_URL="postgresql://postgres:postgres@127.0.0.1:5432/casting?schema=public"
SHADOW_DATABASE_URL="postgresql://postgres:postgres@127.0.0.1:5432/casting_shadow?schema=public"

# Base URLs for building absolute links in development
BASE_URL="http://localhost:3000"
PUBLIC_BASE_URL="http://localhost:3000"
NEXTAUTH_URL="http://localhost:3000"
NEXT_PUBLIC_BASE_URL="http://localhost:3000"

# Secrets for NextAuth. Replace with a secure value in real environments.
NEXTAUTH_SECRET="please-change-me"

# Outbound email configuration (optional for local development)
SMTP_HOST=
SMTP_PORT=
SMTP_USER=
SMTP_PASS=
MAIL_FROM="Your App <no-reply@yourapp.test>"

# Application environment configuration
NEXT_PUBLIC_ENV=staging
NEXT_PUBLIC_FLAGS=analytics,canary
ANALYTICS_DISABLED=0
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
WEBHOOK_TEST_SECRET=dev-secret
ZARINPAL_WEBHOOK_SECRET=
IDPAY_WEBHOOK_SECRET=
NEXTPAY_WEBHOOK_SECRET=

CRON_SECRET=dev-cron-secret

# S3 / MinIO storage configuration
S3_ENDPOINT="http://localhost:9000"
S3_REGION="us-east-1"
S3_ACCESS_KEY="minio"
S3_SECRET_KEY="minio123"
S3_PUBLIC_BUCKET="media-public"
S3_PRIVATE_BUCKET="media-private"
S3_SIGNED_URL_TTL_SEC="300"
S3_FORCE_PATH_STYLE="true"

# Media CDN/origin configuration
MEDIA_CDN_BASE_URL="http://localhost:4000/media"
MEDIA_ORIGIN_BASE_URL="http://localhost:9000/media-public"
MEDIA_CDN_SIGNED="0"

# Media cache configuration
HLS_SEGMENT_MAX_AGE_SEC="31536000"
HLS_MANIFEST_MAX_AGE_SEC="120"
POSTER_MAX_AGE_SEC="31536000"

# Media upload configuration
UPLOAD_ALLOWED_TYPES="video/mp4,video/quicktime,video/webm"
UPLOAD_MAX_SIZE_MB_DEV=300
UPLOAD_MAX_SIZE_MB_PROD=800
UPLOAD_MAX_DURATION_SEC=180
UPLOAD_DAILY_USER_CAP_GB=2
UPLOAD_RATE_LIMIT_PER_MIN=10
UPLOAD_RATE_LIMIT_BURST=20

# Queue worker configuration
REDIS_URL="redis://127.0.0.1:6379"
MEDIA_TRANSCODE_CONCURRENCY=2
MEDIA_TRANSCODE_BACKOFF_MS=30000
MEDIA_TRANSCODE_MAX_ATTEMPTS=5
